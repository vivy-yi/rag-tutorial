# ç¬¬2ç« ï¼šç¯å¢ƒæ­å»ºä¸å·¥å…·å‡†å¤‡

> å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚æœ¬ç« å°†å¸¦ä½ æ­å»ºå®Œæ•´çš„RAGå¼€å‘ç¯å¢ƒï¼Œä¸ºåç»­å®è·µåšå¥½å……åˆ†å‡†å¤‡ã€‚

---

## ğŸ“š å­¦ä¹ ç›®æ ‡

å­¦å®Œæœ¬ç« åï¼Œä½ å°†èƒ½å¤Ÿï¼š

- [ ] æ­å»ºå®Œæ•´çš„Pythonå¼€å‘ç¯å¢ƒï¼ˆè™šæ‹Ÿç¯å¢ƒ+Jupyterï¼‰
- [ ] å®‰è£…å’Œé…ç½®LlamaIndexåŠç›¸å…³ä¾èµ–
- [ ] é…ç½®OpenAI APIå¯†é’¥
- [ ] å®‰è£…å¹¶ä½¿ç”¨å‘é‡æ•°æ®åº“ï¼ˆChromaï¼‰
- [ ] å‡†å¤‡ç¤ºä¾‹æ•°æ®é›†å¹¶å®Œæˆé¢„å¤„ç†

**é¢„è®¡å­¦ä¹ æ—¶é—´**ï¼š1å°æ—¶
**éš¾åº¦ç­‰çº§**ï¼šâ­â˜†â˜†â˜†â˜†

---

## å‰ç½®çŸ¥è¯†

åœ¨å¼€å§‹æœ¬ç« å­¦ä¹ å‰ï¼Œä½ éœ€è¦å…·å¤‡ï¼š

- [ ] **PythonåŸºç¡€**ï¼šäº†è§£PythonåŸºæœ¬è¯­æ³•
- [ ] **å‘½ä»¤è¡ŒåŸºç¡€**ï¼šä¼šä½¿ç”¨ç»ˆç«¯è¿è¡Œå‘½ä»¤
- [ ] **æ–‡æœ¬ç¼–è¾‘å™¨**ï¼šVSCodeã€PyCharmç­‰

**ç¯å¢ƒè¦æ±‚**ï¼š
- Python >= 3.9
- è‡³å°‘4GBå¯ç”¨å†…å­˜
- 5GBå¯ç”¨ç£ç›˜ç©ºé—´
- ç¨³å®šçš„ç½‘ç»œè¿æ¥

---

## 2.1 å¼€å‘ç¯å¢ƒé…ç½®

### Pythonç‰ˆæœ¬ç®¡ç†

#### ä¸ºä»€ä¹ˆéœ€è¦ç‰ˆæœ¬ç®¡ç†ï¼Ÿ

ä¸åŒé¡¹ç›®å¯èƒ½éœ€è¦ä¸åŒç‰ˆæœ¬çš„Pythonï¼š

```
é¡¹ç›®Aï¼šéœ€è¦Python 3.9
é¡¹ç›®Bï¼šéœ€è¦Python 3.11
é¡¹ç›®Cï¼ˆæœ¬æ•™ç¨‹ï¼‰ï¼šéœ€è¦Python 3.10+

é—®é¢˜ï¼šç³»ç»Ÿåªæœ‰ä¸€ä¸ªPythonç‰ˆæœ¬æ€ä¹ˆåŠï¼Ÿ

è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ç‰ˆæœ¬ç®¡ç†å·¥å…·
```

#### æ–¹æ¡ˆ1ï¼šä½¿ç”¨pyenvï¼ˆæ¨èMac/Linuxï¼‰

**å®‰è£…pyenv**ï¼š

```bash
# macOSï¼ˆä½¿ç”¨Homebrewï¼‰
brew install pyenv

# Linux
curl https://pyenv.run | bash
```

**é…ç½®ç¯å¢ƒå˜é‡**ï¼š

```bash
# æ·»åŠ åˆ° ~/.bashrc æˆ– ~/.zshrc
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"

# é‡æ–°åŠ è½½é…ç½®
source ~/.bashrc  # æˆ– source ~/.zshrc
```

**å®‰è£…Python 3.10**ï¼š

```bash
# æŸ¥çœ‹å¯å®‰è£…çš„ç‰ˆæœ¬
pyenv install --list | grep "3.10"

# å®‰è£…Python 3.10.14
pyenv install 3.10.14

# è®¾ç½®å…¨å±€é»˜è®¤ç‰ˆæœ¬
pyenv global 3.10.14

# éªŒè¯å®‰è£…
python --version
# è¾“å‡ºï¼šPython 3.10.14
```

**ä¸ºé¡¹ç›®è®¾ç½®ç‰¹å®šç‰ˆæœ¬**ï¼š

```bash
# åœ¨é¡¹ç›®ç›®å½•ä¸‹
cd /path/to/your/project

# è®¾ç½®è¯¥é¡¹ç›®ä½¿ç”¨Python 3.10.14
pyenv local 3.10.14

# åˆ›å»º.python-versionæ–‡ä»¶ï¼ˆè‡ªåŠ¨ï¼‰
cat .python-version
# è¾“å‡ºï¼š3.10.14
```

#### æ–¹æ¡ˆ2ï¼šä½¿ç”¨condaï¼ˆæ¨èWindows/ç§‘å­¦è®¡ç®—ï¼‰

**å®‰è£…Miniconda**ï¼š

```bash
# ä¸‹è½½å®‰è£…å™¨
# macOS/Linux: https://docs.conda.io/en/latest/miniconda.html
# Windows: ä¸‹è½½.exeå®‰è£…ç¨‹åº

# macOS/Linux å®‰è£…
bash Miniconda3-latest-MacOSX-arm64.sh  # Apple Silicon
# æˆ–
bash Miniconda3-latest-Linux-x86_64.sh  # Linux

# åˆå§‹åŒ–conda
conda init bash  # æˆ– conda init zsh
source ~/.bashrc  # é‡æ–°åŠ è½½
```

**åˆ›å»ºPythonç¯å¢ƒ**ï¼š

```bash
# åˆ›å»ºPython 3.10ç¯å¢ƒ
conda create -n rag_tutorial python=3.10

# æ¿€æ´»ç¯å¢ƒ
conda activate rag_tutorial

# éªŒè¯ç‰ˆæœ¬
python --version
```

**é€€å‡ºç¯å¢ƒ**ï¼š

```bash
conda deactivate
```

### è™šæ‹Ÿç¯å¢ƒåˆ›å»º

#### ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿç¯å¢ƒï¼Ÿ

éš”ç¦»é¡¹ç›®ä¾èµ–ï¼Œé¿å…ç‰ˆæœ¬å†²çªï¼š

```
æ²¡æœ‰è™šæ‹Ÿç¯å¢ƒï¼š
  ç³»ç»ŸPython â†’ å…¨å±€å®‰è£…çš„åŒ… â†’ ç‰ˆæœ¬å†²çª
  â†‘
  é¡¹ç›®Aéœ€è¦pandas==1.5.0
  é¡¹ç›®Béœ€è¦pandas==2.0.0
  â†’ å†²çªï¼

æœ‰è™šæ‹Ÿç¯å¢ƒï¼š
  é¡¹ç›®A/venv â†’ pandas==1.5.0
  é¡¹ç›®B/venv â†’ pandas==2.0.0
  â†’ å„è‡ªç‹¬ç«‹ï¼Œäº’ä¸å½±å“
```

#### ä½¿ç”¨venvï¼ˆPythonå†…ç½®ï¼‰

```bash
# 1. åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir rag_tutorial
cd rag_tutorial

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# 3. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# macOS/Linux:
source venv/bin/activate

# Windows:
# venv\Scripts\activate

# 4. éªŒè¯ï¼ˆå‘½ä»¤è¡Œå‰ç¼€ä¼šæ˜¾ç¤º(venv)ï¼‰
(venv) $  # macOS/Linux
(venv) >  # Windows
```

#### ä½¿ç”¨conda

```bash
# åˆ›å»ºå¹¶æ¿€æ´»ç¯å¢ƒï¼ˆå‰é¢å·²ç»å±•ç¤ºï¼‰
conda create -n rag_tutorial python=3.10
conda activate rag_tutorial
```

### Jupyterç¯å¢ƒé…ç½®

Jupyter Notebookæ˜¯å­¦ä¹ RAGçš„ç†æƒ³å·¥å…·ï¼Œå¯ä»¥äº¤äº’å¼è¿è¡Œä»£ç ã€‚

#### å®‰è£…Jupyter

```bash
# ç¡®ä¿è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»
source venv/bin/activate  # æˆ– conda activate rag_tutorial

# å®‰è£…Jupyter
pip install jupyter jupyterlab

# éªŒè¯å®‰è£…
jupyter --version
```

#### å¯åŠ¨Jupyter

```bash
# å¯åŠ¨Jupyter Labï¼ˆæ¨èï¼Œç•Œé¢æ›´ç°ä»£ï¼‰
jupyter lab

# æˆ–å¯åŠ¨ç»å…¸Notebook
jupyter notebook

# æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€
```

#### Jupyterä½¿ç”¨æŠ€å·§

**1. å¿«æ·é”®**ï¼š

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Shift + Enter` | è¿è¡Œå½“å‰å•å…ƒæ ¼ï¼Œè·³åˆ°ä¸‹ä¸€ä¸ª |
| `Ctrl + Enter` | è¿è¡Œå½“å‰å•å…ƒæ ¼ï¼Œåœç•™åœ¨å½“å‰ |
| `A` | åœ¨ä¸Šæ–¹æ’å…¥å•å…ƒæ ¼ï¼ˆå‘½ä»¤æ¨¡å¼ï¼‰|
| `B` | åœ¨ä¸‹æ–¹æ’å…¥å•å…ƒæ ¼ï¼ˆå‘½ä»¤æ¨¡å¼ï¼‰|
| `DD` | åˆ é™¤å½“å‰å•å…ƒæ ¼ï¼ˆå‘½ä»¤æ¨¡å¼ï¼‰|
| `M` | åˆ‡æ¢åˆ°Markdownæ¨¡å¼ |
| `Y` | åˆ‡æ¢åˆ°ä»£ç æ¨¡å¼ |

**2. é­”æ³•å‘½ä»¤**ï¼š

```python
# æŸ¥çœ‹æ‰€æœ‰é­”æ³•å‘½ä»¤
%lsmagic

# æµ‹é‡ä»£ç è¿è¡Œæ—¶é—´
%timeit sum(range(1000))

# æ˜¾ç¤ºå˜é‡
%who

# è¿è¡Œshellå‘½ä»¤
!ls -la
!pip list
```

**3. è‡ªåŠ¨è¡¥å…¨**ï¼š

```python
# Tabé”®è‡ªåŠ¨è¡¥å…¨
import pandas as pd
pd.read_<Tab>  # æ˜¾ç¤ºæ‰€æœ‰read_å¼€å¤´çš„å‡½æ•°

# æŸ¥çœ‹å‡½æ•°æ–‡æ¡£
pd.read_csv?
```

### VSCodeé…ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æ›´å–œæ¬¢VSCodeï¼Œå¯ä»¥é…ç½®Pythonæ’ä»¶ã€‚

#### å®‰è£…æ’ä»¶

1. å®‰è£…VSCodeï¼š[https://code.visualstudio.com/](https://code.visualstudio.com/)
2. å®‰è£…Pythonæ’ä»¶
   - Pythonï¼ˆMicrosoftï¼‰
   - Jupyterï¼ˆMicrosoftï¼‰
   - Python Code Formatter

#### é…ç½®æ­¥éª¤

```bash
# 1. åœ¨VSCodeä¸­æ‰“å¼€é¡¹ç›®ç›®å½•
code /path/to/rag_tutorial

# 2. é€‰æ‹©Pythonè§£é‡Šå™¨
# Ctrl/Cmd + Shift + P â†’ "Python: Select Interpreter"
# é€‰æ‹©ä½ çš„è™šæ‹Ÿç¯å¢ƒ

# 3. åˆ›å»ºæ–°çš„Notebook
# æ–‡ä»¶ â†’ æ–°å»ºæ–‡ä»¶ â†’ é€‰æ‹©.ipynbåç¼€
```

---

## 2.2 æ ¸å¿ƒåº“å®‰è£…

### åˆ›å»ºè‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬

åˆ›å»ºä¸€ä¸ª`setup_env.py`è„šæœ¬ï¼Œè‡ªåŠ¨å®‰è£…æ‰€æœ‰ä¾èµ–ã€‚

```python
# æ–‡ä»¶åï¼šsetup_env.py
"""
RAGæ•™ç¨‹ç¯å¢ƒè‡ªåŠ¨é…ç½®è„šæœ¬
è‡ªåŠ¨å®‰è£…æ‰€æœ‰å¿…éœ€çš„åº“å’Œä¾èµ–
"""

import subprocess
import sys
import os

def run_command(command, description):
    """
    è¿è¡Œshellå‘½ä»¤å¹¶æ˜¾ç¤ºè¿›åº¦

    Args:
        command: è¦æ‰§è¡Œçš„å‘½ä»¤
        description: å‘½ä»¤æè¿°
    """
    print(f"\n{'='*60}")
    print(f"æ­£åœ¨æ‰§è¡Œ: {description}")
    print(f"{'='*60}")
    print(f"å‘½ä»¤: {command}\n")

    try:
        result = subprocess.run(
            command,
            shell=True,
            check=True,
            capture_output=False,
            text=True
        )
        print(f"âœ“ {description} - æˆåŠŸ")
        return True
    except subprocess.CalledProcessError as e:
        print(f"âœ— {description} - å¤±è´¥")
        print(f"é”™è¯¯: {e}")
        return False

def check_python_version():
    """æ£€æŸ¥Pythonç‰ˆæœ¬"""
    version = sys.version_info
    print(f"å½“å‰Pythonç‰ˆæœ¬: {version.major}.{version.minor}.{version.micro}")

    if version.major < 3 or (version.major == 3 and version.minor < 9):
        print("âŒ Pythonç‰ˆæœ¬è¿‡ä½ï¼Œéœ€è¦3.9æˆ–æ›´é«˜")
        return False

    print("âœ“ Pythonç‰ˆæœ¬ç¬¦åˆè¦æ±‚")
    return True

def install_core_packages():
    """å®‰è£…æ ¸å¿ƒåŒ…"""
    packages = [
        # LlamaIndexæ ¸å¿ƒ
        "llama-index-core",
        "llama-index-llms-openai",
        "llama-index-embeddings-openai",
        "llama-index-vector-stores-chroma",

        # å‘é‡æ•°æ®åº“
        "chromadb",

        # æ–‡æ¡£å¤„ç†
        "pypdf",
        "docx2txt",
        "python-dotenv",

        # æ•°æ®å¤„ç†
        "pandas",
        "numpy",

        # å¯è§†åŒ–
        "matplotlib",
        "seaborn",

        # å®ç”¨å·¥å…·
        "tqdm",  # è¿›åº¦æ¡
        "rich",  # ç¾åŒ–ç»ˆç«¯è¾“å‡º
    ]

    print("\nå¼€å§‹å®‰è£…æ ¸å¿ƒåŒ…...")
    for package in packages:
        run_command(f"pip install -U {package}", f"å®‰è£… {package}")

    return True

def install_optional_packages():
    """å®‰è£…å¯é€‰åŒ…"""
    optional = [
        "llama-index-readers-web",  # ç½‘é¡µæŠ“å–
        "llama-index-readers-file", # æ–‡ä»¶è¯»å–
        "sentence-transformers",    # å¼€æºåµŒå…¥æ¨¡å‹
        "transformers",             # HuggingFace
    ]

    print("\næ˜¯å¦å®‰è£…å¯é€‰åŒ…ï¼Ÿ(åŒ…å«ç½‘é¡µæŠ“å–ã€å¼€æºæ¨¡å‹ç­‰)")
    choice = input("è¾“å…¥ y å®‰è£…ï¼Œå…¶ä»–é”®è·³è¿‡: ").strip().lower()

    if choice == 'y':
        for package in optional:
            run_command(f"pip install -U {package}", f"å®‰è£… {package}")

    return True

def create_env_template():
    """åˆ›å»ºç¯å¢ƒå˜é‡æ¨¡æ¿æ–‡ä»¶"""
    env_content = """# OpenAI APIé…ç½®
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_API_BASE=https://api.openai.com/v1  # å¯é€‰ï¼šä½¿ç”¨ä»£ç†æˆ–å…¼å®¹API

# å…¶ä»–é…ç½®
CHROMA persist_directory=./chroma_db
"""

    with open(".env.template", "w", encoding="utf-8") as f:
        f.write(env_content)

    print("\nâœ“ å·²åˆ›å»º .env.template æ–‡ä»¶")
    print("  è¯·å¤åˆ¶ä¸º .env å¹¶å¡«å…¥ä½ çš„APIå¯†é’¥")
    return True

def create_project_structure():
    """åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„"""
    directories = [
        "data/raw",           # åŸå§‹æ•°æ®
        "data/processed",     # å¤„ç†åæ•°æ®
        "notebooks",          # Jupyter notebooks
        "scripts",            # Pythonè„šæœ¬
        "outputs",            # è¾“å‡ºç»“æœ
        "chroma_db",          # å‘é‡æ•°æ®åº“
    ]

    for directory in directories:
        os.makedirs(directory, exist_ok=True)
        print(f"âœ“ åˆ›å»ºç›®å½•: {directory}")

    return True

def create_requirements_txt():
    """ç”Ÿæˆrequirements.txt"""
    requirements = """# RAGæ•™ç¨‹ä¾èµ–

# æ ¸å¿ƒ
llama-index-core>=0.10.0
llama-index-llms-openai>=0.1.0
llama-index-embeddings-openai>=0.1.0
llama-index-vector-stores-chroma>=0.1.0

# å‘é‡æ•°æ®åº“
chromadb>=0.4.0

# æ–‡æ¡£å¤„ç†
pypdf>=3.0.0
docx2txt>=0.8
python-dotenv>=1.0.0

# æ•°æ®å¤„ç†
pandas>=2.0.0
numpy>=1.24.0

# å¯è§†åŒ–
matplotlib>=3.7.0
seaborn>=0.12.0

# å·¥å…·
tqdm>=4.65.0
rich>=13.0.0

# å¯é€‰
llama-index-readers-web>=0.1.0
llama-index-readers-file>=0.1.0
sentence-transformers>=2.2.0
"""

    with open("requirements.txt", "w", encoding="utf-8") as f:
        f.write(requirements)

    print("\nâœ“ å·²åˆ›å»º requirements.txt æ–‡ä»¶")
    return True

def main():
    """ä¸»å‡½æ•°"""
    print("""
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘       RAGæ•™ç¨‹ - ç¯å¢ƒè‡ªåŠ¨é…ç½®å·¥å…·                      â•‘
    â•‘       è‡ªåŠ¨å®‰è£…æ‰€æœ‰å¿…éœ€çš„åº“å’Œä¾èµ–                      â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    """)

    # 1. æ£€æŸ¥Pythonç‰ˆæœ¬
    if not check_python_version():
        return False

    # 2. å®‰è£…æ ¸å¿ƒåŒ…
    if not install_core_packages():
        return False

    # 3. å®‰è£…å¯é€‰åŒ…
    install_optional_packages()

    # 4. åˆ›å»ºé¡¹ç›®ç»“æ„
    print("\nåˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„...")
    create_project_structure()

    # 5. åˆ›å»ºé…ç½®æ–‡ä»¶
    create_env_template()
    create_requirements_txt()

    print(f"""
    {'='*60}
    âœ“ ç¯å¢ƒé…ç½®å®Œæˆï¼
    {'='*60}

    ä¸‹ä¸€æ­¥ï¼š
    1. é…ç½®OpenAI APIå¯†é’¥ï¼š
       cp .env.template .env
       ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„APIå¯†é’¥

    2. å¯åŠ¨Jupyterï¼š
       jupyter lab

    3. å¼€å§‹å­¦ä¹ ï¼š
       æ‰“å¼€ notebooks/ ç›®å½•æŸ¥çœ‹æ•™ç¨‹notebooks
    """)

    return True

if __name__ == "__main__":
    success = main()
    sys.exit(0 if success else 1)
```

#### è¿è¡Œå®‰è£…è„šæœ¬

```bash
# ç¡®ä¿è™šæ‹Ÿç¯å¢ƒå·²æ¿€æ´»
source venv/bin/activate

# ä¸‹è½½å¹¶è¿è¡Œè„šæœ¬
# (å°†ä¸Šé¢çš„ä»£ç ä¿å­˜ä¸º setup_env.py)

python setup_env.py
```

### æ‰‹åŠ¨å®‰è£…ï¼ˆåˆ†æ­¥è¯´æ˜ï¼‰

å¦‚æœä½ æƒ³æ‰‹åŠ¨æ§åˆ¶å®‰è£…è¿‡ç¨‹ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤ï¼š

#### æ­¥éª¤1ï¼šå®‰è£…LlamaIndex

```bash
# æ ¸å¿ƒåŒ…
pip install llama-index-core

# OpenAIé›†æˆ
pip install llama-index-llms-openai
pip install llama-index-embeddings-openai

# å‘é‡å­˜å‚¨
pip install llama-index-vector-stores-chroma
```

#### æ­¥éª¤2ï¼šå®‰è£…å‘é‡æ•°æ®åº“

```bash
# Chromaï¼ˆè½»é‡ï¼Œé€‚åˆå­¦ä¹ ï¼‰
pip install chromadb

# å¦‚æœéœ€è¦å…¶ä»–æ•°æ®åº“ï¼š
# pip install qdrant-client  # Qdrant
# pip install pymilvus       # Milvus
```

#### æ­¥éª¤3ï¼šå®‰è£…æ–‡æ¡£å¤„ç†å·¥å…·

```bash
# PDFå¤„ç†
pip install pypdf

# Wordå¤„ç†
pip install docx2txt

# ç¯å¢ƒå˜é‡ç®¡ç†
pip install python-dotenv
```

#### æ­¥éª¤4ï¼šå®‰è£…æ•°æ®å¤„ç†å’Œå¯è§†åŒ–å·¥å…·

```bash
# æ•°æ®å¤„ç†
pip install pandas numpy

# å¯è§†åŒ–
pip install matplotlib seaborn

# è¿›åº¦æ¡
pip install tqdm rich
```

### éªŒè¯å®‰è£…

åˆ›å»ºä¸€ä¸ªæµ‹è¯•è„šæœ¬`test_installation.py`ï¼š

```python
# æ–‡ä»¶åï¼štest_installation.py
"""
æµ‹è¯•æ‰€æœ‰åº“æ˜¯å¦æ­£ç¡®å®‰è£…
"""

def test_imports():
    """æµ‹è¯•å¯¼å…¥"""
    print("æµ‹è¯•åº“å¯¼å…¥...\n")

    tests = [
        ("LlamaIndexæ ¸å¿ƒ", "import llama_index"),
        ("Chroma", "import chromadb"),
        ("Pandas", "import pandas as pd"),
        ("NumPy", "import numpy as np"),
        ("ç¯å¢ƒå˜é‡", "import dotenv"),
    ]

    passed = 0
    failed = 0

    for name, import_cmd in tests:
        try:
            exec(import_cmd)
            print(f"âœ“ {name}")
            passed += 1
        except ImportError as e:
            print(f"âœ— {name} - {e}")
            failed += 1

    print(f"\næ€»è®¡: {passed} é€šè¿‡, {failed} å¤±è´¥")
    return failed == 0

def test_chroma():
    """æµ‹è¯•ChromaåŸºæœ¬åŠŸèƒ½"""
    print("\næµ‹è¯•Chroma...\n")

    try:
        import chromadb

        # åˆ›å»ºä¸´æ—¶å®¢æˆ·ç«¯
        client = chromadb.EphemeralClient()

        # åˆ›å»ºé›†åˆ
        collection = client.create_collection("test")

        # æ·»åŠ æ•°æ®
        collection.add(
            documents=["æµ‹è¯•æ–‡æ¡£"],
            ids=["test1"]
        )

        # æŸ¥è¯¢
        results = collection.query(
            query_texts=["æµ‹è¯•"],
            n_results=1
        )

        print("âœ“ Chromaå·¥ä½œæ­£å¸¸")
        return True

    except Exception as e:
        print(f"âœ— Chromaæµ‹è¯•å¤±è´¥: {e}")
        return False

def main():
    """ä¸»æµ‹è¯•å‡½æ•°"""
    print("="*60)
    print("RAGæ•™ç¨‹ - å®‰è£…éªŒè¯")
    print("="*60 + "\n")

    # æµ‹è¯•å¯¼å…¥
    imports_ok = test_imports()

    # æµ‹è¯•Chroma
    chroma_ok = test_chroma()

    # æ€»ç»“
    if imports_ok and chroma_ok:
        print("\n" + "="*60)
        print("âœ“ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ç¯å¢ƒé…ç½®æ­£ç¡®ã€‚")
        print("="*60)
        return True
    else:
        print("\n" + "="*60)
        print("âœ— éƒ¨åˆ†æµ‹è¯•å¤±è´¥ï¼Œè¯·æ£€æŸ¥å®‰è£…ã€‚")
        print("="*60)
        return False

if __name__ == "__main__":
    success = main()
```

è¿è¡Œæµ‹è¯•ï¼š

```bash
python test_installation.py
```

---

## 2.3 æ•°æ®å‡†å¤‡

### ç¤ºä¾‹æ•°æ®é›†ä»‹ç»

æˆ‘ä»¬å‡†å¤‡äº†ä¸‰ç§ç¤ºä¾‹æ•°æ®é›†ä¾›å­¦ä¹ ä½¿ç”¨ï¼š

#### æ•°æ®é›†1ï¼šæŠ€æœ¯æ–‡æ¡£ï¼ˆæ¨èï¼‰

**æ¥æº**ï¼šPythonå®˜æ–¹æ–‡æ¡£èŠ‚é€‰

**å†…å®¹**ï¼š
- PythonåŸºç¡€æ•™ç¨‹
- å¸¸ç”¨åº“ä»‹ç»
- ä»£ç ç¤ºä¾‹

**ç‰¹ç‚¹**ï¼š
- ç»“æ„åŒ–ç¨‹åº¦é«˜
- é€‚åˆå­¦ä¹ åŸºç¡€RAG
- ä»£ç ç¤ºä¾‹ä¸°å¯Œ

**ä¸‹è½½**ï¼š

```bash
# åˆ›å»ºdataç›®å½•
mkdir -p data/raw

# ä¸‹è½½ç¤ºä¾‹æ•°æ®ï¼ˆä½¿ç”¨curlï¼‰
# Pythonæ•™ç¨‹
curl -o data/raw/python_tutorial.pdf \
  https://docs.python.org/3/_downloads/python-3.10.0-docs-pdf-letter.pdf

# æˆ–ä½¿ç”¨wget
wget -O data/raw/python_tutorial.pdf \
  https://docs.python.org/3/_downloads/python-3.10.0-docs-pdf-letter.pdf
```

#### æ•°æ®é›†2ï¼šç¤ºä¾‹æ–‡æœ¬ï¼ˆå¿«é€Ÿæµ‹è¯•ï¼‰

åˆ›å»ºä¸€ä¸ªç®€å•çš„æ–‡æœ¬æ–‡ä»¶ç”¨äºå¿«é€Ÿæµ‹è¯•ï¼š

```python
# æ–‡ä»¶åï¼šcreate_sample_data.py
"""
åˆ›å»ºç¤ºä¾‹æ–‡æœ¬æ•°æ®
"""

import os

def create_sample_documents():
    """åˆ›å»ºç¤ºä¾‹æ–‡æ¡£"""

    # ç¡®ä¿ç›®å½•å­˜åœ¨
    os.makedirs("data/raw", exist_ok=True)

    # æ–‡æ¡£1ï¼šPythonä»‹ç»
    doc1 = """
Pythonæ˜¯ä¸€ç§é«˜çº§ç¼–ç¨‹è¯­è¨€

Pythonæ˜¯ä¸€ç§è§£é‡Šå‹ã€é«˜çº§ã€é€šç”¨çš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒçš„è®¾è®¡å“²å­¦å¼ºè°ƒä»£ç çš„å¯è¯»æ€§ï¼Œ
ä½¿ç”¨å¤§é‡çš„ç¼©è¿›ã€‚Pythonæ˜¯åŠ¨æ€ç±»å‹çš„ï¼Œå¹¶ä¸”æä¾›åƒåœ¾å›æ”¶åŠŸèƒ½ã€‚

Pythonæ”¯æŒå¤šç§ç¼–ç¨‹èŒƒå¼ï¼ŒåŒ…æ‹¬ç»“æ„åŒ–ã€é¢å‘å¯¹è±¡å’Œå‡½æ•°å¼ç¼–ç¨‹ã€‚
"""

    # æ–‡æ¡£2ï¼šæœºå™¨å­¦ä¹ ä»‹ç»
    doc2 = """
æœºå™¨å­¦ä¹ åŸºç¡€

æœºå™¨å­¦ä¹ æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªåˆ†æ”¯ã€‚å®ƒä½¿è®¡ç®—æœºèƒ½å¤Ÿä»æ•°æ®ä¸­å­¦ä¹ ï¼Œ
è€Œä¸æ˜¯è¢«æ˜ç¡®ç¼–ç¨‹ã€‚

å¸¸è§çš„æœºå™¨å­¦ä¹ ç±»å‹åŒ…æ‹¬ï¼š
1. ç›‘ç£å­¦ä¹ ï¼šä½¿ç”¨æ ‡è®°çš„æ•°æ®è®­ç»ƒ
2. æ— ç›‘ç£å­¦ä¹ ï¼šå‘ç°æ•°æ®ä¸­çš„æ¨¡å¼
3. å¼ºåŒ–å­¦ä¹ ï¼šé€šè¿‡å¥–åŠ±å’Œæƒ©ç½šå­¦ä¹ 
"""

    # æ–‡æ¡£3ï¼šRAGä»‹ç»
    doc3 = """
RAGæŠ€æœ¯æ¦‚è¿°

RAGï¼ˆRetrieval-Augmented Generationï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æ˜¯ä¸€ç§ç»“åˆäº†
ä¿¡æ¯æ£€ç´¢å’Œæ–‡æœ¬ç”Ÿæˆçš„AIæŠ€æœ¯ã€‚

RAGçš„æ ¸å¿ƒæ­¥éª¤ï¼š
1. æ£€ç´¢ï¼šä»çŸ¥è¯†åº“ä¸­æŸ¥æ‰¾ç›¸å…³æ–‡æ¡£
2. å¢å¼ºï¼šå°†æ£€ç´¢åˆ°çš„æ–‡æ¡£åŠ å…¥æç¤ºè¯
3. ç”Ÿæˆï¼šLLMåŸºäºå¢å¼ºçš„æç¤ºè¯ç”Ÿæˆç­”æ¡ˆ
"""

    # ä¿å­˜æ–‡æ¡£
    documents = {
        "python_intro.txt": doc1,
        "ml_intro.txt": doc2,
        "rag_intro.txt": doc3
    }

    for filename, content in documents.items():
        filepath = os.path.join("data/raw", filename)
        with open(filepath, "w", encoding="utf-8") as f:
            f.write(content.strip())
        print(f"âœ“ åˆ›å»ºæ–‡æ¡£: {filepath}")

    print("\nâœ“ ç¤ºä¾‹æ–‡æ¡£åˆ›å»ºå®Œæˆï¼")
    return True

if __name__ == "__main__":
    create_sample_documents()
```

è¿è¡Œï¼š

```bash
python create_sample_data.py
```

#### æ•°æ®é›†3ï¼šå®é™…æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰

**å¦‚ä½•å‡†å¤‡è‡ªå·±çš„æ•°æ®**ï¼š

```python
# æ–‡ä»¶åï¼šprepare_custom_data.py
"""
å‡†å¤‡è‡ªå®šä¹‰æ•°æ®é›†
"""

import os
import shutil

def organize_documents(source_dir, target_dir="data/raw"):
    """
    æ•´ç†æ–‡æ¡£åˆ°é¡¹ç›®ç›®å½•

    Args:
        source_dir: æºæ–‡æ¡£ç›®å½•
        target_dir: ç›®æ ‡ç›®å½•
    """
    # ç¡®ä¿ç›®æ ‡ç›®å½•å­˜åœ¨
    os.makedirs(target_dir, exist_ok=True)

    # æ”¯æŒçš„æ–‡ä»¶æ ¼å¼
    supported_formats = {'.pdf', '.txt', '.md', '.docx', '.html'}

    # ç»Ÿè®¡
    total_files = 0
    copied_files = 0

    # éå†æºç›®å½•
    for root, dirs, files in os.walk(source_dir):
        for file in files:
            total_files += 1

            # æ£€æŸ¥æ–‡ä»¶æ ¼å¼
            file_ext = os.path.splitext(file)[1].lower()

            if file_ext in supported_formats:
                # å¤åˆ¶æ–‡ä»¶
                src_path = os.path.join(root, file)
                dst_path = os.path.join(target_dir, file)

                # é¿å…è¦†ç›–
                if os.path.exists(dst_path):
                    base, ext = os.path.splitext(file)
                    dst_path = os.path.join(
                        target_dir,
                        f"{base}_{copied_files}{ext}"
                    )

                shutil.copy2(src_path, dst_path)
                copied_files += 1
                print(f"âœ“ å¤åˆ¶: {file}")

    print(f"\næ€»è®¡: {copied_files}/{total_files} ä¸ªæ–‡ä»¶")
    return copied_files > 0

if __name__ == "__main__":
    source = input("è¾“å…¥æ–‡æ¡£ç›®å½•è·¯å¾„: ").strip()

    if os.path.isdir(source):
        organize_documents(source)
    else:
        print("é”™è¯¯ï¼šç›®å½•ä¸å­˜åœ¨")
```

### æ•°æ®é¢„å¤„ç†åŸºç¡€

#### æ¸…æ´—æ•°æ®

```python
# æ–‡ä»¶åï¼špreprocess_data.py
"""
æ•°æ®é¢„å¤„ç†è„šæœ¬
"""

import os
import re
from typing import List, Dict

def clean_text(text: str) -> str:
    """
    æ¸…æ´—æ–‡æœ¬

    Args:
        text: åŸå§‹æ–‡æœ¬

    Returns:
        æ¸…æ´—åçš„æ–‡æœ¬
    """
    # ç§»é™¤å¤šä½™ç©ºç™½
    text = re.sub(r'\s+', ' ', text)

    # ç§»é™¤ç‰¹æ®Šå­—ç¬¦ï¼ˆä¿ç•™ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—ã€æ ‡ç‚¹ï¼‰
    text = re.sub(r'[^\w\s\u4e00-\u9fff\u3000-\u303f\uff00-\uffef.,!?;:()""'\'ã€‘[ã€]', '', text)

    # ç§»é™¤è¿‡çŸ­çš„è¡Œ
    lines = [line.strip() for line in text.split('\n')]
    lines = [line for line in lines if len(line) > 10]

    return '\n'.join(lines)

def read_text_file(filepath: str) -> str:
    """
    è¯»å–æ–‡æœ¬æ–‡ä»¶

    Args:
        filepath: æ–‡ä»¶è·¯å¾„

    Returns:
        æ–‡ä»¶å†…å®¹
    """
    encodings = ['utf-8', 'gbk', 'gb2312']

    for encoding in encodings:
        try:
            with open(filepath, 'r', encoding=encoding) as f:
                return f.read()
        except UnicodeDecodeError:
            continue

    raise ValueError(f"æ— æ³•è§£ç æ–‡ä»¶: {filepath}")

def process_text_files(input_dir: str, output_dir: str):
    """
    æ‰¹é‡å¤„ç†æ–‡æœ¬æ–‡ä»¶

    Args:
        input_dir: è¾“å…¥ç›®å½•
        output_dir: è¾“å‡ºç›®å½•
    """
    os.makedirs(output_dir, exist_ok=True)

    # ç»Ÿè®¡
    processed = 0
    total_chars = 0

    # éå†æ–‡ä»¶
    for filename in os.listdir(input_dir):
        if not filename.endswith('.txt'):
            continue

        try:
            # è¯»å–
            filepath = os.path.join(input_dir, filename)
            text = read_text_file(filepath)

            # æ¸…æ´—
            cleaned = clean_text(text)

            # ä¿å­˜
            output_path = os.path.join(output_dir, filename)
            with open(output_path, 'w', encoding='utf-8') as f:
                f.write(cleaned)

            # ç»Ÿè®¡
            processed += 1
            total_chars += len(cleaned)

            print(f"âœ“ å¤„ç†: {filename} ({len(cleaned)} å­—ç¬¦)")

        except Exception as e:
            print(f"âœ— å¤±è´¥: {filename} - {e}")

    print(f"\næ€»è®¡: {processed} ä¸ªæ–‡ä»¶, {total_chars} å­—ç¬¦")
    return processed > 0

def main():
    """ä¸»å‡½æ•°"""
    input_dir = "data/raw"
    output_dir = "data/processed"

    print("å¼€å§‹å¤„ç†æ–‡æœ¬æ–‡ä»¶...")
    print(f"è¾“å…¥ç›®å½•: {input_dir}")
    print(f"è¾“å‡ºç›®å½•: {output_dir}\n")

    success = process_text_files(input_dir, output_dir)

    if success:
        print("\nâœ“ å¤„ç†å®Œæˆï¼")
    else:
        print("\nâœ— å¤„ç†å¤±è´¥")

if __name__ == "__main__":
    main()
```

#### æ•°æ®æ ¼å¼è½¬æ¢

```python
# å°†TXTè½¬æ¢ä¸ºMarkdownï¼ˆæ–¹ä¾¿Jupyteræ˜¾ç¤ºï¼‰
def txt_to_markdown(input_dir: str, output_dir: str):
    """
    å°†TXTæ–‡ä»¶è½¬æ¢ä¸ºMarkdownæ ¼å¼

    Args:
        input_dir: è¾“å…¥ç›®å½•
        output_dir: è¾“å‡ºç›®å½•
    """
    os.makedirs(output_dir, exist_ok=True)

    for filename in os.listdir(input_dir):
        if not filename.endswith('.txt'):
            continue

        # è¯»å–
        input_path = os.path.join(input_dir, filename)
        with open(input_path, 'r', encoding='utf-8') as f:
            content = f.read()

        # è½¬æ¢ä¸ºMarkdown
        title = os.path.splitext(filename)[0]
        markdown = f"# {title}\n\n{content}"

        # ä¿å­˜
        output_filename = filename.replace('.txt', '.md')
        output_path = os.path.join(output_dir, output_filename)

        with open(output_path, 'w', encoding='utf-8') as f:
            f.write(markdown)

        print(f"âœ“ è½¬æ¢: {filename} â†’ {output_filename}")

    return True
```

### å®Œæ•´æ•°æ®å‡†å¤‡æµç¨‹

```python
# æ–‡ä»¶åï¼šprepare_data_pipeline.py
"""
å®Œæ•´çš„æ•°æ®å‡†å¤‡æµç¨‹
"""

import os
import shutil
from preprocess_data import process_text_files

def full_data_pipeline():
    """å®Œæ•´çš„æ•°æ®å‡†å¤‡æµç¨‹"""

    print("="*60)
    print("RAGæ•™ç¨‹ - æ•°æ®å‡†å¤‡æµç¨‹")
    print("="*60 + "\n")

    # 1. åˆ›å»ºç›®å½•ç»“æ„
    print("æ­¥éª¤1: åˆ›å»ºç›®å½•ç»“æ„")
    directories = [
        "data/raw",
        "data/processed",
        "data/eval"  # è¯„ä¼°æ•°æ®
    ]

    for directory in directories:
        os.makedirs(directory, exist_ok=True)
        print(f"  âœ“ {directory}")

    # 2. åˆ›å»ºç¤ºä¾‹æ•°æ®
    print("\næ­¥éª¤2: åˆ›å»ºç¤ºä¾‹æ•°æ®")
    from create_sample_data import create_sample_documents
    create_sample_documents()

    # 3. é¢„å¤„ç†æ•°æ®
    print("\næ­¥éª¤3: é¢„å¤„ç†æ•°æ®")
    process_text_files("data/raw", "data/processed")

    # 4. åˆ›å»ºè¯„ä¼°æ•°æ®é›†
    print("\næ­¥éª¤4: åˆ›å»ºè¯„ä¼°æ•°æ®é›†")
    create_evaluation_dataset()

    print("\n" + "="*60)
    print("âœ“ æ•°æ®å‡†å¤‡å®Œæˆï¼")
    print("="*60)

    # æ˜¾ç¤ºæ•°æ®ç»Ÿè®¡
    show_data_statistics()

    return True

def create_evaluation_dataset():
    """åˆ›å»ºè¯„ä¼°æ•°æ®é›†ï¼ˆé—®ç­”å¯¹ï¼‰"""

    eval_data = [
        {
            "question": "Pythonæ˜¯ä»€ä¹ˆï¼Ÿ",
            "answer": "Pythonæ˜¯ä¸€ç§é«˜çº§ç¼–ç¨‹è¯­è¨€",
            "source": "python_intro.txt"
        },
        {
            "question": "æœºå™¨å­¦ä¹ çš„ç±»å‹æœ‰å“ªäº›ï¼Ÿ",
            "answer": "ç›‘ç£å­¦ä¹ ã€æ— ç›‘ç£å­¦ä¹ ã€å¼ºåŒ–å­¦ä¹ ",
            "source": "ml_intro.txt"
        },
        {
            "question": "RAGçš„æ ¸å¿ƒæ­¥éª¤æ˜¯ä»€ä¹ˆï¼Ÿ",
            "answer": "æ£€ç´¢ã€å¢å¼ºã€ç”Ÿæˆ",
            "source": "rag_intro.txt"
        }
    ]

    import json

    with open("data/eval/eval_qa.json", "w", encoding="utf-8") as f:
        json.dump(eval_data, f, ensure_ascii=False, indent=2)

    print("  âœ“ è¯„ä¼°æ•°æ®é›†: data/eval/eval_qa.json")
    return True

def show_data_statistics():
    """æ˜¾ç¤ºæ•°æ®ç»Ÿè®¡"""
    print("\næ•°æ®ç»Ÿè®¡:")

    # ç»Ÿè®¡æ–‡ä»¶æ•°é‡
    for directory in ["data/raw", "data/processed"]:
        if os.path.exists(directory):
            files = os.listdir(directory)
            print(f"  {directory}: {len(files)} ä¸ªæ–‡ä»¶")

    # æ˜¾ç¤ºç¤ºä¾‹
    print("\nç¤ºä¾‹æ–‡æ¡£:")
    if os.path.exists("data/processed"):
        for filename in os.listdir("data/processed")[:3]:
            filepath = os.path.join("data/processed", filename)
            with open(filepath, 'r', encoding='utf-8') as f:
                content = f.read()
                preview = content[:100] + "..." if len(content) > 100 else content
                print(f"\n  {filename}:")
                print(f"    {preview}")

if __name__ == "__main__":
    full_data_pipeline()
```

---

## æ€»ç»“

### æœ¬ç« è¦ç‚¹å›é¡¾

1. **å¼€å‘ç¯å¢ƒé…ç½®**
   - ä½¿ç”¨pyenvæˆ–condaç®¡ç†Pythonç‰ˆæœ¬
   - åˆ›å»ºè™šæ‹Ÿç¯å¢ƒéš”ç¦»é¡¹ç›®ä¾èµ–
   - é…ç½®Jupyter Notebookè¿›è¡Œäº¤äº’å¼å¼€å‘

2. **æ ¸å¿ƒåº“å®‰è£…**
   - LlamaIndexï¼ˆRAGæ¡†æ¶ï¼‰
   - Chromaï¼ˆå‘é‡æ•°æ®åº“ï¼‰
   - æ–‡æ¡£å¤„ç†å·¥å…·
   - ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ç®€åŒ–å®‰è£…

3. **æ•°æ®å‡†å¤‡**
   - ä¸‹è½½æˆ–åˆ›å»ºç¤ºä¾‹æ•°æ®
   - é¢„å¤„ç†æ¸…æ´—æ•°æ®
   - è½¬æ¢æ•°æ®æ ¼å¼
   - åˆ›å»ºè¯„ä¼°æ•°æ®é›†

### å­¦ä¹ æ£€æŸ¥æ¸…å•

- [ ] Python 3.10+å·²å®‰è£…
- [ ] è™šæ‹Ÿç¯å¢ƒå·²åˆ›å»ºå¹¶æ¿€æ´»
- [ ] Jupyterå¯ä»¥æ­£å¸¸å¯åŠ¨
- [ ] æ‰€æœ‰æ ¸å¿ƒåº“å·²å®‰è£…
- [ ] å®‰è£…æµ‹è¯•å…¨éƒ¨é€šè¿‡
- [ ] ç¤ºä¾‹æ•°æ®å·²å‡†å¤‡
- [ ] æ•°æ®é¢„å¤„ç†å·²å®Œæˆ

### ä¸‹ä¸€æ­¥å­¦ä¹ 

- **ä¸‹ä¸€ç« **ï¼š[ç¬¬3ç« ï¼šåŸºç¡€RAGå®ç°](./03-åŸºç¡€RAGå®ç°.md)
  - åŠ è½½å’Œå¤„ç†æ–‡æ¡£
  - å®ç°æ–‡æœ¬åˆ†å—
  - æ„å»ºå‘é‡æ£€ç´¢
  - ç”ŸæˆRAGç­”æ¡ˆ

- **ç›¸å…³ç« èŠ‚**ï¼š
  - ç¬¬4ç« ï¼šRAGè¯„ä¼°åŸºç¡€

### æ‰©å±•èµ„æº

#### æ¨èé˜…è¯»

1. **Pythonç¯å¢ƒç®¡ç†æœ€ä½³å®è·µ**
   - é“¾æ¥ï¼š[https://realpython.com/python-virtual-environments-a-primer/](https://realpython.com/python-virtual-environments-a-primer/)
   - æ ¸å¿ƒè§‚ç‚¹ï¼šç†è§£è™šæ‹Ÿç¯å¢ƒçš„é‡è¦æ€§

2. **Jupyter NotebookæŠ€å·§**
   - é“¾æ¥ï¼š[https://www.dataquest.io/blog/jupyter-notebook-tips/](https://www.dataquest.io/blog/jupyter-notebook-tips/)
   - æ ¸å¿ƒè§‚ç‚¹ï¼šæå‡Jupyterä½¿ç”¨æ•ˆç‡

3. **LlamaIndexå®‰è£…æŒ‡å—**
   - é“¾æ¥ï¼š[https://docs.llamaindex.ai/en/stable/getting_started/installation/](https://docs.llamaindex.ai/en/stable/getting_started/installation/)
   - æ ¸å¿ƒè§‚ç‚¹ï¼šå®˜æ–¹å®‰è£…æ–‡æ¡£

---

## å¸¸è§é—®é¢˜ (FAQ)

### Q1: å®‰è£…å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**é—®é¢˜**ï¼š`pip install` æ—¶å‡ºç°é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š

1. **ç½‘ç»œé—®é¢˜**ï¼š
```bash
# ä½¿ç”¨å›½å†…é•œåƒ
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple package_name
```

2. **æƒé™é—®é¢˜**ï¼š
```bash
# ç¡®ä¿åœ¨è™šæ‹Ÿç¯å¢ƒä¸­
source venv/bin/activate  # macOS/Linux
# æˆ–
venv\Scripts\activate  # Windows
```

3. **ä¾èµ–å†²çª**ï¼š
```bash
# å‡çº§pip
pip install --upgrade pip

# æ¸…ç†ç¼“å­˜
pip cache purge
```

### Q2: OpenAI APIå¯†é’¥å¦‚ä½•è·å–ï¼Ÿ

**æ­¥éª¤**ï¼š

1. è®¿é—® [https://platform.openai.com/](https://platform.openai.com/)
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ API keys é¡µé¢
4. åˆ›å»ºæ–°çš„APIå¯†é’¥
5. å¤åˆ¶å¯†é’¥ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼ï¼‰

**é…ç½®**ï¼š

```bash
# åˆ›å»º.envæ–‡ä»¶
cp .env.template .env

# ç¼–è¾‘.envæ–‡ä»¶
OPENAI_API_KEY=sk-your-actual-api-key-here
```

### Q3: Jupyteræ— æ³•å¯åŠ¨ï¼Ÿ

**å¯èƒ½åŸå› **ï¼š

1. **ç«¯å£è¢«å ç”¨**ï¼š
```bash
# æŒ‡å®šå…¶ä»–ç«¯å£
jupyter lab --port 8889
```

2. **æµè§ˆå™¨æœªæ‰“å¼€**ï¼š
```bash
# å¯åŠ¨æ—¶ä¸è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
jupyter lab --no-browser

# ç„¶åæ‰‹åŠ¨è®¿é—®æ˜¾ç¤ºçš„URL
```

3. **æ’ä»¶å†²çª**ï¼š
```bash
# é‡è£…Jupyter
pip uninstall jupyter jupyterlab
pip install jupyter jupyterlab
```

### Q4: æ•°æ®æ”¾åœ¨å“ªé‡Œæœ€åˆé€‚ï¼Ÿ

**æ¨èç›®å½•ç»“æ„**ï¼š

```
rag_tutorial/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/          # åŸå§‹æ•°æ®ï¼ˆä¸è¦ä¿®æ”¹ï¼‰
â”‚   â”œâ”€â”€ processed/    # å¤„ç†åæ•°æ®
â”‚   â””â”€â”€ eval/         # è¯„ä¼°æ•°æ®
â”œâ”€â”€ notebooks/        # Jupyter notebooks
â”œâ”€â”€ scripts/          # Pythonè„šæœ¬
â”œâ”€â”€ outputs/          # è¾“å‡ºç»“æœ
â””â”€â”€ chroma_db/        # å‘é‡æ•°æ®åº“
```

**æ³¨æ„**ï¼š
- `data/raw` ä¸è¦ä¿®æ”¹ï¼Œä¿ç•™åŸå§‹å¤‡ä»½
- `data/processed` å¯ä»¥å¤šæ¬¡é‡æ–°ç”Ÿæˆ
- æ·»åŠ åˆ°`.gitignore`ï¼š`data/`, `chroma_db/`, `.env`

---

## æœ¯è¯­è¡¨

| æœ¯è¯­ | è‹±æ–‡ | å®šä¹‰ |
|------|------|------|
| **è™šæ‹Ÿç¯å¢ƒ** | Virtual Environment | éš”ç¦»çš„Pythonè¿è¡Œç¯å¢ƒ |
| **Jupyter** | Jupyter Notebook | äº¤äº’å¼è®¡ç®—ç¯å¢ƒ |
| **ä¾èµ–** | Dependencies | é¡¹ç›®æ‰€éœ€çš„åº“å’ŒåŒ… |
| **é¢„å¤„ç†** | Preprocessing | æ•°æ®æ¸…æ´—å’Œè½¬æ¢ |
| **æ•°æ®æ¸…æ´—** | Data Cleaning | ç§»é™¤é”™è¯¯å’Œå™ªå£°æ•°æ® |

---

**è¿”å›ç›®å½•** | **ä¸Šä¸€ç« ï¼šRAGæŠ€æœ¯æ¦‚è¿°** | **ä¸‹ä¸€ç« ï¼šåŸºç¡€RAGå®ç°**

---

**æœ¬ç« ç»“æŸ**

> ç¯å¢ƒæ­å»ºæ˜¯å­¦ä¹ çš„ç¬¬ä¸€æ­¥ï¼Œä¹Ÿæ˜¯æœ€å®¹æ˜“å‡ºé”™çš„ä¸€æ­¥ã€‚å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ä»”ç»†æ£€æŸ¥æ¯ä¸€æ­¥ï¼Œç¡®ä¿ä¸è¦è·³è¿‡ä»»ä½•é…ç½®ã€‚è‰¯å¥½çš„ç¯å¢ƒè®¾ç½®ä¼šè®©åç»­å­¦ä¹ äº‹åŠåŠŸå€ï¼
