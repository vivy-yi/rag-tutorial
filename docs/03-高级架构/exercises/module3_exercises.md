# 模块3练习题集

> 通过实践巩固高级架构模式，完成Agent、知识图谱和多模态RAG的学习！

---

## 📋 练习题概览

**总题数**：45道
- Agentic RAG：15道
- 高级Agent：15道
- 知识图谱RAG：10道
- 多模态RAG：5道

**预计时间**：12-16小时
**难度等级**：⭐⭐⭐⭐⭐

---

## 第13-14章：Agentic RAG练习

### 练习13.1：实现ReAct Agent（基础）

**题目**：从零实现一个ReAct Agent

**要求**：
1. 支持至少3个工具（Search、RAG、Calculator）
2. 实现Thought-Action-Observation循环
3. 最多5次迭代
4. 提供可解释的执行过程

**提示**：
- 定义清晰的提示模板
- 实现响应解析逻辑
- 处理错误情况

**评分标准**：
- ⭐⭐⭐⭐⭐：完整实现+异常处理+可视化
- ⭐⭐⭐⭐：完整实现
- ⭐⭐⭐：基本框架

---

### 练习13.2：工具定义与使用（进阶）

**题目**：为特定场景设计工具集

**要求**：
1. 为技术文档助手设计3-5个工具
2. 工具示例：
   - CodeSearch：搜索代码示例
   - DocSearch：搜索技术文档
   - APISearch：搜索API参考
   - VersionCompare：对比版本差异
   - ConceptExplain：解释技术概念

**提示**：
- 工具要有清晰的描述
- 提供使用示例
- 处理边界情况

**评分标准**：
- ⭐⭐⭐⭐⭐：5个工具+完整文档
- ⭐⭐⭐⭐：3-4个工具
- ⭐⭐⭐：2个工具+基础文档

---

### 练习14.1：Plan-and-Execute实现（进阶）

**题目**：实现Plan-and-Execute Agent

**要求**：
1. 规划阶段：生成详细执行计划
2. 执行阶段：逐步执行计划
3. 支持动态调整
4. 提供执行报告

**提示**：
- 使用LLM生成计划
- 计划要包含3-7个步骤
- 每步明确工具和输入

**评分标准**：
- ⭐⭐⭐⭐⭐：完整实现+动态调整
- ⭐⭐⭐⭐：基本实现
- ⭐⭐⭐：框架代码

---

### 练习14.2：多Agent协作系统（挑战）

**题目**：构建层级式多Agent系统

**功能需求**：
1. Manager Agent（协调者）
2. Worker Agents（3个）：
   - ResearchAgent：文献搜索
   - AnalysisAgent：数据分析
   - ReportAgent：报告生成
3. 明确的通信机制
4. 错误处理和恢复

**提示**：
- 定义清晰的接口
- 使用消息队列或事件机制
- 实现状态同步

**评分标准**：
- ⭐⭐⭐⭐⭐：完整系统+测试
- ⭐⭐⭐⭐：基本系统
- ⭐⭐⭐：框架设计

---

### 练习14.3：自主研究Agent（综合项目）

**项目描述**：构建完整的研究助手Agent

**功能需求**：
1. 文献搜索和总结
2. 技术对比分析
3. 代码示例检索
4. 自动生成报告
5. 自我反思和改进
6. 支持多轮对话

**性能目标**：
- 准确率 > 80%
- 平均步骤数 < 10
- 反思后提升 > 20%

**交付内容**：
1. 完整代码
2. 测试用例
3. 性能报告
4. 使用文档

**评分标准**（总分100分）：
- 功能完整性：35分
- Agent设计：30分
- 代码质量：20分
- 文档说明：15分

---

## 第15章：知识图谱RAG练习

### 练习15.1：构建知识图谱（基础）

**题目**：为特定领域构建小型知识图谱

**要求**：
1. 选择一个领域（编程语言、电影、体育等）
2. 定义实体类型和关系类型
3. 至少50个实体和100个关系
4. 实现图谱可视化

**提示**：
- 使用NetworkX或Neo4j
- 实体类型：Person, Company, Technology等
- 关系类型：CEO_OF, FOUNDED, DEVELOPS等

**评分标准**：
- ⭐⭐⭐⭐⭐：50+实体+100+关系+可视化
- ⭐⭐⭐⭐：满足最低要求
- ⭐⭐⭐：基本图谱

---

### 练习15.2：实体识别实现（进阶）

**题目**：实现查询中的实体识别

**要求**：
1. 使用spaCyber或LLM进行NER
2. 链接实体到知识图谱
3. 处理实体歧义
4. 评估识别准确率

**提示**：
- spaCyNER：预训练模型
- LLM提取：zero-shot/few-shot
- 链接：实体消歧

**评分标准**：
- ⭐⭐⭐⭐⭐：完整pipeline+评估
- ⭐⭐⭐⭐：基本实现
- ⭐⭐⭐：框架代码

---

### 练习15.3：GraphRAG完整实现（挑战）

**题目**：构建完整的GraphRAG系统

**功能需求**：
1. 实体识别模块
2. 图谱检索模块
3. 子图嵌入
4. 与向量检索融合
5. 评估系统效果

**性能目标**：
- Hit Rate比纯向量RAG提升 > 10%
- 支持多跳推理
- 响应时间 < 5秒

**评分标准**：
- ⭐⭐⭐⭐⭐：完整系统+10%+提升
- ⭐⭐⭐⭐：基本系统
- ⭐⭐⭐：模块实现

---

## 第16章：多模态RAG练习

### 练习16.1：CLIP图像检索（基础）

**题目**：使用CLIP实现图像检索

**要求**：
1. 准备100张图像数据集
2. 使用CLIP嵌入
3. 实现相似图像检索
4. 提供可视化界面

**提示**：
- 数据集：https://www.kaggle.com/datasets
- 模型：sentence-transformers CLIP
- 指标：Recall@K

**评分标准**：
- ⭐⭐⭐⭐⭐：100+图像+界面
- ⭐⭐⭐⭐：满足要求
- ⭐⭐⭐：基本实现

---

### 练习16.2：图文RAG实现（进阶）

**题目**：构建图文检索RAG系统

**要求**：
1. 图像检索模块
2. 文本检索模块
3. 结果融合（加权平均或RRF）
4. 多模态答案生成
5. 评估混合效果

**提示**：
- CLIP用于跨模态
- 权重：图像50%，文本50%
- 对比：纯文本 vs 图文混合

**评分标准**：
- ⭐⭐⭐⭐⭐：完整系统+评估
- ⭐⭐⭐⭐：基本系统
- ⭐⭐⭐：模块实现

---

### 练习16.3：多模态Agent（挑战）

**题目**：构建理解图像的Agent

**功能需求**：
1. 图像分析工具（GPT-4V）
2. 图像搜索工具（CLIP）
3. 文本问答工具（RAG）
4. 图文结合推理
5. Web界面

**提示**：
- OpenAI Vision API
- CLIP模型
- Streamlit界面

**评分标准**：
- ⭐⭐⭐⭐⭐：完整Agent+界面
- ⭐⭐⭐⭐：基本Agent
- ⭐⭐⭐：框架设计

---

## 综合项目

### 项目1：Agentic研究助手（综合）

**项目描述**：完整的AI研究助手系统

**功能需求**：
1. ✅ 文献搜索和总结
2. ✅ 代码示例检索
3. ✅ 技术对比分析
4. ✅ 自动生成报告
5. ✅ 多轮对话支持
6. ✅ 自主规划和执行

**技术栈**：
- LangChain Agents
- OpenAI GPT-4
- ArXiv API
- GitHub API
- Knowledge Graph

**交付内容**：
1. 完整代码
2. 技术文档
3. 使用手册
4. 演示视频

**评分标准**（总分150分）：
- 系统设计：40分
- 功能实现：50分
- 代码质量：30分
- 文档质量：20分
- 演示效果：10分

---

### 项目2：GraphRAG知识库（综合）

**项目描述**：基于知识图谱的问答系统

**功能需求**：
1. ✅ 知识图谱构建
2. ✅ 图谱检索引擎
3. ✅ 多跳推理
4. ✅ 与向量RAG融合
5. ✅ 可视化界面

**技术栈**：
- Neo4j或NetworkX
- LlamaIndex
- Streamlit
- GraphRAG

**交付内容**：
1. 知识图谱数据
2. 完整系统代码
3. 用户手册
4. 性能报告

**评分标准**（总分150分）：
- 图谱质量：30分
- 系统性能：40分
- 代码质量：30分
- 界面友好：20分
- 文档完整：10分

---

### 项目3：多模态问答系统（综合）

**项目描述**：图像+文本问答系统

**功能需求**：
1. ✅ 图像上传和识别
2. ✅ 图像检索
3. ✅ 文本检索
4. ✅ 图文融合
5. ✅ 多模态问答
6. ✅ Web界面

**技术栈**：
- OpenAI CLIP
- GPT-4V
- ChromaDB
- Streamlit
- FastAPI

**交付内容**：
1. 完整系统代码
2. 模型文件
3. API文档
4. 部署指南

**评分标准**（总分150分）：
- 功能完整：40分
- 性能表现：40分
- 代码质量：30分
- 用户体验：20分
- 部署文档：20分

---

## 📝 学习建议

### 如何完成高级练习

**1. 循序渐进**
- 从Agentic RAG开始
- 再到知识图谱
- 最后多模态
- 每个模块充分实践

**2. 理论结合**
- 先理解原理
- 再动手实现
- 最后优化改进

**3. 项目驱动**
- 以项目为导向
- 解决实际问题
- 积累项目经验

**4. 持续迭代**
- 初版功能
- 逐步优化
- 追求卓越

---

## 💡 关键技术点

### Agentic RAG核心

1. **ReAct模式**
   - Thought → Action → Observation循环
   - 工具调用机制
   - 错误处理

2. **Plan-and-Execute**
   - 前期规划
   - 分步执行
   - 动态调整

3. **多Agent协作**
   - 通信机制
   - 任务分配
   - 结果汇总

### 知识图谱核心

1. **图谱构建**
   - 实体抽取
   - 关系抽取
   - 知识融合

2. **图谱检索**
   - 图遍历
   - 路径查找
   - 子图提取

3. **GraphRAG**
   - 实体识别
   - 图检索
   - 子图嵌入
   - 上下文融合

### 多模态核心

1. **CLIP模型**
   - 图像编码器
   - 文本编码器
   - 对比学习

2. **跨模态检索**
   - 图像检索
   - 文本检索
   - 融合策略

3. **多模态生成**
   - GPT-4V
   - 图文理解
   - 多模态输出

---

## 📊 进度跟踪

使用此检查表跟踪学习进度：

### Agentic RAG
- [ ] 练习13.1：ReAct Agent
- [ ] 练习13.2：工具定义
- [ ] 练习14.1：Plan-and-Execute
- [ ] 练习14.2：多Agent协作
- [ ] 练习14.3：研究助手Agent

### 知识图谱RAG
- [ ] 练习15.1：构建知识图谱
- [ ] 练习15.2：实体识别
- [ ] 练习15.3：GraphRAG系统

### 多模态RAG
- [ ] 练习16.1：CLIP图像检索
- [ ] 练习16.2：图文RAG
- [ ] 练习16.3：多模态Agent

---

## 🎯 学习目标

完成这些练习后，你将：

✅ **掌握Agent开发**
   - ReAct模式
   - Plan-and-Execute
   - 多Agent协作

✅ **理解知识图谱**
   - 图谱构建
   - 图谱检索
   - GraphRAG实现

✅ **熟悉多模态**
   - CLIP模型
   - 跨模态检索
   - 多模态问答

✅ **具备项目经验**
   - 研究助手Agent
   - 知识图谱问答
   - 多模态系统

---

## 🚀 下一步

完成练习后，你可以：

1. **继续模块4**：生产部署实战
2. **综合项目**：整合所有技术
3. **技术深度**：深入研究特定领域

---

**祝你学习顺利！** 🚀

> 需要参考答案或有疑问？查看下一章参考答案！
